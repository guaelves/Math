<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>注音符號泡泡遊戲</title>
<style>
  body {
    font-family: "Microsoft JhengHei", sans-serif;
    text-align: center;
    background-color: #f2f8ff;
    overflow: hidden;
    transition: background-color 0.6s, color 0.6s;
  }
  h1 {
    font-size: 48px;
    margin-top: 30px;
  }
  .buttons {
    margin-top: 15px;
  }
  button {
    font-size: 20px;
    margin: 8px;
    padding: 10px 20px;
    border-radius: 12px;
    border: none;
    cursor: pointer;
    transition: background 0.4s, transform 0.2s;
  }
  button:hover {
    transform: scale(1.05);
  }
  #gameArea {
    position: relative;
    width: 100%;
    height: 80vh;
    overflow: hidden;
  }
  .bubble {
    position: absolute;
    font-size: 40px;
    padding: 25px;
    border-radius: 50%;
    color: white;
    cursor: pointer;
    user-select: none;
    transition: transform 0.3s ease, opacity 0.3s ease;
  }
  .bubble.correct {
    animation: pop 0.4s forwards;
  }
  @keyframes pop {
    0% { transform: scale(1); opacity: 1; }
    100% { transform: scale(1.5); opacity: 0; }
  }

  /* 主題顏色變數 */
  :root {
    --main-color: #6ca0dc;
    --accent-color: #f7b2bd;
    --bg-color: #f2f8ff;
  }
</style>
</head>
<body>
  <h1>注音符號泡泡遊戲 🎈</h1>
  <div class="buttons">
    <button id="shengmuBtn">聲母</button>
    <button id="jieyinBtn">介音</button>
    <button id="yunmuBtn">韻母</button>
    <button id="hejieBtn">結合韻</button>
    <button id="themeBtn">🎨 自動配色主題</button>
  </div>
  <div id="gameArea"></div>

<script>
  const shengmu = ["ㄅ","ㄆ","ㄇ","ㄈ","ㄉ","ㄊ","ㄋ","ㄌ","ㄍ","ㄎ","ㄏ","ㄐ","ㄑ","ㄒ","ㄓ","ㄔ","ㄕ","ㄖ","ㄗ","ㄘ","ㄙ"];
  const jieyin = ["ㄧ","ㄨ","ㄩ"];
  const yunmu = ["ㄚ","ㄛ","ㄜ","ㄝ","ㄞ","ㄟ","ㄠ","ㄡ","ㄢ","ㄣ","ㄤ","ㄥ","ㄦ"];
  const hejie = ["ㄧㄚ","ㄧㄝ","ㄧㄠ","ㄧㄡ","ㄧㄢ","ㄧㄣ","ㄧㄤ","ㄧㄥ","ㄨㄚ","ㄨㄛ","ㄨㄞ","ㄨㄟ","ㄨㄢ","ㄨㄣ","ㄨㄤ","ㄨㄥ","ㄩㄝ","ㄩㄢ","ㄩㄣ","ㄩㄥ"];
  const themes = [
    { name: "甜美粉", main: "#f7b2bd", accent: "#ffe5ec", bg: "#fff0f3" },
    { name: "海洋藍", main: "#6ca0dc", accent: "#b9e6ff", bg: "#e3f2fd" },
    { name: "森林綠", main: "#6dbf6d", accent: "#c5e3bf", bg: "#f0fff0" }
  ];

  let currentTheme = 0;
  const gameArea = document.getElementById("gameArea");

  document.getElementById("shengmuBtn").onclick = () => startGame(shengmu);
  document.getElementById("jieyinBtn").onclick = () => startGame(jieyin);
  document.getElementById("yunmuBtn").onclick = () => startGame(yunmu);
  document.getElementById("hejieBtn").onclick = () => startGame(hejie);
  document.getElementById("themeBtn").onclick = switchTheme;

  function startGame(list) {
    gameArea.innerHTML = "";
    for (let i = 0; i < list.length; i++) {
      const b = document.createElement("div");
      b.className = "bubble";
      b.textContent = list[i];
      b.style.left = Math.random() * (window.innerWidth - 100) + "px";
      b.style.top = Math.random() * (window.innerHeight - 200) + "px";
      b.style.background = `linear-gradient(135deg, var(--main-color), var(--accent-color))`;
      b.onclick = () => {
        b.classList.add("correct");
        setTimeout(() => b.remove(), 300);
        const utter = new SpeechSynthesisUtterance(b.textContent);
        utter.lang = "zh-TW";
        speechSynthesis.speak(utter);
      };
      gameArea.appendChild(b);
    }
  }

  function switchTheme() {
    currentTheme = (currentTheme + 1) % themes.length;
    const theme = themes[currentTheme];
    document.documentElement.style.setProperty("--main-color", theme.main);
    document.documentElement.style.setProperty("--accent-color", theme.accent);
    document.body.style.backgroundColor = theme.bg;
    document.getElementById("themeBtn").textContent = `🎨 ${theme.name}`;
  }
</script>
</body>
</html>
